# ace-est-fitness-and-gym
An automated application that demonstrates core functionalities pertinent to a fitness and gym management system.

## Local Setup (macOS)
**Install Python with pyenv**
```sh
brew install pyenv
```

**Configure pyenv in your shell**
Add these lines to your `~/.zshrc` (in this exact order):
```sh
export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init -)"
eval "$(pyenv init --path)"
```

**Reload your shell**
```sh
source ~/.zshrc
```

**Install Python 3.13.0**
```sh
pyenv install 3.13.0
pyenv global 3.13.0
```

**Create and activate a virtual environment**
```sh
python3 -m venv .env
source .env/bin/activate
```

**Install required Python libraries**
```sh
pip install -r requirements.txt
```


## Running the application & unit tests locally
**To run the application locally**
```sh
python3 src/app.py
```

**To run unit test cases locally**
```sh
.env/bin/python -m pytest tests/test_workout_manager.py
```

**To clean up runtime files generated by pytest**
```sh
rm -rf __pycache__ */__pycache__ .pytest_cache
```


## Building and running the application as a Docker image locally

**Build the Docker image**
```sh
docker build -t ace-est-fitness-and-gym .
```

**Run the Docker image**
```sh
docker run -p 8080:8080 ace-est-fitness-and-gym
```

**Access the web app**
Open your browser and go to: [http://127.0.0.1:8080/](http://127.0.0.1:8080/)


## GitHub Actions Overview

The repository uses GitHub Actions for CI/CD automation. The following jobs are included in the workflow:

- **Unit Tests**: Installs dependencies, lints code, runs unit tests using pytest, prints coverage summary in logs, and uploads the coverage report (`coverage.xml`) as a workflow artifact.
- **Docker Build**: Builds the Docker image for the application after tests pass.
- **Tag Release**: Creates and pushes a git tag based on the version file, only on the main branch (requires a PAT secret named `GH_TOKEN`).

These jobs ensure code quality, build automation, and versioning for releases.


## Project Structure

```
ace-est-fitness-and-gym/
├── src/
│   ├── app.py
│   └── templates/
│       └── index.html
├── tests/
│   └── test_workout_manager.py
├── requirements.txt
├── README.md
└── .github/
    └── workflows/
        └── python-app.yml
```